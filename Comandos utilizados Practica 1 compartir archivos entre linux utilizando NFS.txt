#Servidor NFS

# 1. Actualizar e instalar NFS server
sudo apt update && sudo apt install nfs-kernel-server -y

# 2. Crear carpeta para compartir
sudo mkdir -p /srv/nfs/OS3

# 3. Crear 100 archivos
for i in $(seq 1 100); do
    echo "Este es el archivo Adrian$i.txt" > /srv/nfs/OS3/Adrian$i.txt
done

# 4. Permisos para acceso anónimo
sudo chown nobody:nogroup /srv/nfs/OS3
sudo chmod 777 /srv/nfs/OS3

# 5. Configurar exportación
sudo nano /etc/exports
# Agregar:
# /srv/nfs/OS3 10.0.0.35(rw,sync,no_subtree_check,no_root_squash)

# 6. Aplicar cambios y reiniciar NFS
sudo exportfs -rav
sudo systemctl enable --now nfs-kernel-server

# 7. Verificar exportación
showmount -e localhost



#Cliente Linux


# 1. Instalar cliente NFS
sudo apt update && sudo apt install nfs-common -y

# 2. Crear punto de montaje
sudo mkdir -p /mnt/OS3

# 3. Montar manualmente para probar
sudo mount 10.0.0.45:/srv/nfs/OS3 /mnt/OS3

# 4. Validar acceso
ls -l /mnt/OS3 | head

# 5. Montaje automático al inicio
sudo nano /etc/fstab
# Agregar línea:
# 10.0.0.45:/srv/nfs/OS3 /mnt/OS3 nfs defaults 0 0

# 6. Probar sin reiniciar
sudo mount -a
ls /mnt/OS3


